# PHP練習問題② 説明

## 下記for文の`$i = 0`, `$i <= 4`, `$i++`, `echo $i`がそれぞれ、どの順番で処理されるか、また、何をしているのかを説明してください。

```
for ($i = 0; $i <= 4; $i++) {
    echo $i;
}
```

1. 変数$iに0を代入し初期値を設定する
2. $iに入っている値が4以下かどうか判定を行う
3. 判定結果がtrueであればfor文内の処理を実行
4. $i++を実行し1ずつ加算されていく

### [ask]いつfor文は終了しますか？
- $iが4以下という条件が定義されているため、$iが5になった時点で判定結果がfalseになりfor文の処理が終了します。  
今回の場合、01234と4まで表示されます。

## for文とforeachはどのように使い分けるのか説明してください。
- foreach文は配列の繰り返し処理を行う際に使用し、for文は主に繰り返し処理の回数が決まっている時に使用します。

## クラスとインスタンスの違いについて説明してください。
- クラス：オブジェクト指向を構成する大きな枠組み。オブジェクトの設計図の役割を果たします。関連のあるメソッド(関数)やプロパティ(変数)をまとめることで一つのクラスとなります。  
インスタンス：クラスを実体化したもので、クラスからインスタンスを「new」演算子を用いて生成することをインスタンス化と呼びます。  
まとめ：クラスは設計書であり、インスタンスはクラスをもとに実体化したものという違いがあります。

### [ask]クラスを使用するメリットはなんでしょうか？
- 以下に引用した内容のほかに、既存のクラスをもとに新しいクラスを作成することで、共通機能に新機能を追加することができる継承性がメリットとしてあげられます。
> ## クラスがなぜ必要なのか説明してください。
> クラスがプロパティやメソッドをひとまとめにしたもので、クラスを使用することによって同じ処理を複数回実行したい場合に、クラスを使うことで共通処理を何度も書かなくてもいいというメリットがあり、コードの可読性が高まり保守やバグの修正がしやすくなるからです。

## プロパティとメソッドとはなにか説明してください。
- プロパティ：クラス内で定義される変数で、オブジェクトの状態や属性を表します。  
（例：Userクラスであれば`$name`や`$age`など）  
メソッド：クラス内に定義された関数。そのクラスのふるまいを定義することができます。  
書き方はfunctionの後に任意の関数名を設定します。  
（例：Userクラスであれば`walk()`や`greeting()`など）  

### [ask]メソッドはfunctionの前に何か文字が表示されていると思いますが、何が表示されていますか？
- 「public」「private」「protected」といったアクセス修飾子です。  
アクセス修飾子は、そのメソッドにどこからアクセスできるか指定するもので、上記3つのいずれかを指定します。
```
public：どこからでもアクセス可能。アクセス修飾子がない場合は、publicを指定したものと同じになります。
private：同じクラス内からのみアクセス可能です。
protected：同じクラスと継承クラスからアクセス可能です。
```

## コンストラクタとはなにか、また、なぜ必要なのかを説明してください。
- クラスのインスタンスが生成される際に自動的に呼び出される特殊なメソッドです。  
コンストラクタで変数が初期化されることにより、新しく生成したインスタンスの変数に必ず指定した値が入るため、オブジェクトごとの値を変数に持たせることができます。  
また、通常のインスタンス化と異なり、変数を設定する記述を省略することができるため、コードの可読性が高まります。  
上記のメリットからコンストラクタの使用が必要になります。

### [ask]コンストラクタ内で変数を定義しているのであれば、結局記述量は減っていないように感じますが、どのケースだと記述量が減りますか？
- 複数インスタンスを生成する場合、インスタンスのプロパティに対して値を設定する記述が減ります。

## 下記コンストラクター内の2行が何をしているのか、また、なぜこの2行が必要なのか説明してください。
```
public function __construct($id, $name)
{
    $this->studentId = $id;
    $this->studentName = $name;
}
```
- 渡された引数(`$id`と`$name`)をオブジェクトのプロパティ(`studentId`と`studentName`)に設定し、インスタンスごとに異なる値を付与できるようになります。  
この2行は、オブジェクトが作成された際に、その初期状態として必要なデータを設定するために必要になります。

### [ask]この2行がなかった場合のデメリットを教えていただきたいです！
- 変数が初期化されないため、エラーや想定外の動作が発生するデメリットがあります。  
以下の例だと、`studentId`と`studentName`が初期化されていないため、空の文字列が返され「ID: , Name:」としか表示されません。
```
class Student
{
    public $studentId;
    public $studentName;

    public function __construct($id, $name)
    {
        // $this->studentId = $id;
        // $this->studentName = $name;
    }

    public function attend()
    {
        echo '授業に出席しました。';
    }

    public function getStudentInfo()
    {
        return "ID: " . $this->studentId . ", Name: " . $this->studentName;
    }
}

$student = new Student(1, "kanno");
// 出力: ID: , Name:
echo $student->getStudentInfo();
```

## クラスがなぜ必要なのか説明してください。
- クラスがプロパティやメソッドをひとまとめにしたもので、クラスを使用することによって同じ処理を複数回実行したい場合に、クラスを使うことで共通処理を何度も書かなくてもいいというメリットがあり、コードの可読性が高まり保守やバグの修正がしやすくなるからです。

### [ask]共通処理を何度も書かなくて良いとのことですが、関数や変数と何が違うのでしょうか？
- 関数は単一の処理を行い、変数は単一の値を保持するもののため、クラスに複数の関数や変数を使用することで複数の処理を一つのクラスとして管理できる違いがあります。

## `DateTime::modify`メソッドの返り値を教えてください。
- DateTimeオブジェクトの日時を変更して、そのオブジェクト自体を返します。

### [ask]DateTimeオブジェクトの日時を変更すると記載されていますが、具体的にオブジェクトの何が変更されていますか？
- オブジェクトの年、月、日、時、分、秒といった日時に関連する値が変更されます。  
以下の例ですと、現在日時から1ヶ月前に変更されています。
```
$date = new DateTime('now');
$date->modify('-1 month');
```

#### [ask]クラスはプロパティとメソッドで構成されていると思いますが、DateTimeオブジェクトの日時という情報はどこに格納されていますか？
- 日時を取得できるDateTimeクラスのプロパティに格納されています。

## `DateTime::format`メソッドと`DateInterval::format`メソッドの違いを教えてください。
- DateTime::formatメソッドは、日時を指定されたフォーマットで文字列として出力するために使用されますが、DateInterval::formatは日時の間隔を指定されたフォーマットで文字列として出力される違いがあります。

## 下記コード3行目のformatメソッドの返り値をPHPのマニュアルから調べる手順を具体的に説明してください。
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```

1. PHP公式サイト([php.net](https://www.php.net/manual/ja/index.php))にアクセスします。  
1. 検索ボックスに「DateTime::format」と入力して検索します。  
1. 検索結果から「DateTime::format」メソッドのページを選択します。  
1. ページ内で返り値の説明を確認します。

### [ask]なぜ、DateTimeのformatメソッドを調べようと思いましたか？
- 今回がDateTimeオブジェクトの日付に対してformatを指定していると考えたため、「DateTime format 返り値」で検索した後にPHPマニュアルの「DateTimeInterface::format」メソッドページを見つけ、同一行に「DateTime::format」がありましたので、「DateTime::format」で調べればいいのかと思いました。